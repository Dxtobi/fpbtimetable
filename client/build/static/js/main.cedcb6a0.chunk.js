(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{100:function(e,t,n){},106:function(e,t,n){},108:function(e,t,n){},109:function(e,t,n){},110:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1),c=n(19),s=n.n(c),o=(n(50),n(12)),l=n(13),i=n(15),u=n(14),d=n(5),j=n.n(d),b=n(8),h=n(22),p=n(4),m=n(29),O=n(44),f=(n(52),n(9)),x=n.n(f),v=n(42),g=(n(98),function(e){e._id;var t=e.lecturer,n=e.coursecode,r=e.level;e.removeStudent;return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:t}),Object(a.jsx)("td",{children:n}),Object(a.jsx)("td",{children:r})]})}),S=(n(99),r.Component,function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={data:null,allStudents:null,error:""},e.removeStudent=function(){var t=Object(b.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.delete("/api/students/".concat(n));case 3:return t.sent,t.next=6,x()("/api/students/");case 6:a=t.sent,e.setState({data:a.data}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),e.setState({error:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}(),e.searchStudents=function(){var t=Object(b.a)(j.a.mark((function t(n){var a,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=Object(O.a)(e.state.data.course),null===e.state.allStudents&&e.setState({allStudents:a}),(r=e.state.data.course.filter((function(e){return e.lecturer.toLowerCase().includes(n.toLowerCase())}))).length>0&&e.setState({data:{students:r}}),""===n.trim()&&e.setState({data:{students:e.state.allStudents}});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("/api/courses/");case 3:t=e.sent,console.log(t.data.course),this.setState({data:t.data}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),this.setState({error:e.t0.message});case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this;return this.state.data?(e=this.state.data.course&&this.state.data.course.map((function(e){return Object(a.jsx)(g,Object(m.a)(Object(m.a)({},e),{},{removeStudent:t.removeStudent}),e._id)})),this.state.error?Object(a.jsx)("h1",{children:this.state.error}):null===this.state.data||this.state.data.course.length?Object(a.jsxs)("div",{className:"Table-Wrapper",children:[Object(a.jsx)("h1",{children:"Lecturers And Courses:"}),Object(a.jsxs)("table",{className:"Table",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Lecturer"}),Object(a.jsx)("th",{children:"Course Code"}),Object(a.jsx)("th",{children:"Level"})]})}),Object(a.jsx)("tbody",{children:e})]})]}):Object(a.jsx)("h1",{className:"No-Students",children:"Lectures set yet!"})):Object(a.jsxs)("div",{className:"Spinner-Wrapper",children:[" ",Object(a.jsx)(v.PropagateLoader,{color:"#333"})," "]})}}]),n}(r.Component)),N=(n(100),n(21)),y=function(){var e=Object(r.useState)(!1),t=Object(h.a)(e,2),n=t[0],c=t[1],s=localStorage.getItem("ttg");return Object(r.useEffect)((function(){var e=JSON.parse(s);return console.log(e),s?e.admin?(console.log("kkk"),c(!0)):void 0:c(!1)}),[]),Object(a.jsxs)("nav",{className:"NavBar-Wrapper navBar-wrapper",children:[Object(a.jsx)("div",{children:Object(a.jsx)("h3",{className:"NavBar-Title",children:"FPB TIMETABLE GENERATOR"})}),Object(a.jsxs)("div",{className:"NavBar-Links",children:[Object(a.jsx)(N.b,{to:"/",className:"NavBar-Link",children:"Home"}),n&&Object(a.jsx)(N.b,{to:"/add",className:"NavBar-Link",children:"Add"}),n&&Object(a.jsx)(N.b,{to:"/generate",className:"NavBar-Link",children:"Generate"})]})]})},C=n(23),w=(n(106),n(16)),k=(n(107),function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={lecturer:"",coursecode:"",coursename:"",level:"",response:""},e.onChangeHandler=function(t){e.setState(Object(C.a)({},t.target.name,t.target.value))},e.addStudent=function(){var t=Object(b.a)(j.a.mark((function t(n){var a,r,c,s,o,l;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),a=e.state,r=a.lecturer,c=a.coursecode,s=a.coursename,o=a.level,l={lecturer:r,coursecode:c,coursename:s,level:o},t.prev=3,t.next=6,x.a.post("/api/courses/",l);case 6:t.sent,Object(w.b)("curse  added successfully",{type:w.b.TYPE.SUCCESS,autoClose:3e3}),e.setState({lecturer:"",coursecode:"",coursename:"",level:""}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),Object(w.b)(t.t0.message,{type:w.b.TYPE.ERROR,autoClose:3e3});case 14:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=e.lecturer,n=e.coursecode,r=e.coursename,c=e.level;return Object(a.jsxs)("div",{className:"AddStudent-Wrapper",children:[Object(a.jsx)("h1",{children:"Add Course"}),Object(a.jsxs)("form",{onSubmit:this.addStudent,children:[Object(a.jsx)("label",{htmlFor:"name",children:"Lecturers Name:"}),Object(a.jsx)("input",{type:"text",placeholder:"Enter the name of the Lecturer",name:"lecturer",onChange:this.onChangeHandler,ref:"lecturer",className:"Add-Student-Input",required:!0,minLength:"3",maxLength:"33",id:"lecturer",value:t}),Object(a.jsx)("label",{htmlFor:"name",children:"Course code"}),Object(a.jsx)("input",{value:n,type:"text",placeholder:"Enter Course Code",name:"coursecode",onChange:this.onChangeHandler,ref:"coursecode",className:"Add-Student-Input",required:!0,minLength:"3",maxLength:"33",id:"coursecode"}),Object(a.jsx)("label",{htmlFor:"name",children:"Course Name"}),Object(a.jsx)("input",{value:r,type:"text",placeholder:"Enter Course Name",name:"coursename",onChange:this.onChangeHandler,ref:"coursename",className:"Add-Student-Input",required:!0,minLength:"3",maxLength:"33",id:"coursename"}),Object(a.jsx)("label",{htmlFor:"name",children:"Level"}),Object(a.jsx)("input",{value:c,type:"text",placeholder:"Enter level",name:"level",onChange:this.onChangeHandler,ref:"level",className:"Add-Student-Input",required:!0,minLength:"3",maxLength:"33",id:"level"}),Object(a.jsx)("button",{type:"submit",className:"Add-Student-Submit fa fa-plus",children:"Add "}),Object(a.jsx)("button",{type:"reset",className:"Add-Student-Reset fa fa-refresh",children:"Reset"})]}),Object(a.jsx)(w.a,{})]})}}]),n}(r.Component)),E=function(){return Object(a.jsx)(r.Fragment,{children:Object(a.jsx)(k,{})})},A=(n(108),function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={id:"",name:"",email:"",enrollnumber:"",response:""},e.onChangeHandler=function(t){return e.setState(Object(C.a)({},t.target.name,t.target.value))},e.updateStudentHandler=function(){var t=Object(b.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,x.a.put("/api/students/".concat(e.state.id),{name:e.refs.name.value,email:e.refs.email.value,enrollnumber:e.refs.enrollnumber.value});case 4:a=t.sent,Object(w.b)(a.data.message,{type:w.b.TYPE.INFO,autoClose:3e3}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),Object(w.b)(t.t0.message,{type:w.b.TYPE.ERROR,autoClose:3e3});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=Object(b.a)(j.a.mark((function e(){var t,n,a,r,c,s,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.props.location.search,n=t.substring(1,t.length),e.next=4,x()("/api/students/".concat(n));case 4:a=e.sent,r=a.data.student,c=r.name,s=r.email,o=r.enrollnumber,this.setState({id:n,name:c,email:s,enrollnumber:o}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),this.setState({response:"Student not found!"});case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return"Student not found!"===this.state.response?Object(a.jsx)("h1",{children:"Student not found!"}):Object(a.jsxs)("div",{className:"Edit-Student-Wrapper",children:[Object(a.jsx)("h1",{children:"Edit page"}),Object(a.jsxs)("form",{onSubmit:this.updateStudentHandler,children:[Object(a.jsx)("label",{htmlFor:"name",children:"Name:"}),Object(a.jsx)("input",{type:"text",placeholder:"Name...",value:this.state.name,name:"name",onChange:this.onChangeHandler,ref:"name",required:!0,className:"Edit-Student-Input",id:"name"}),Object(a.jsxs)("label",{htmlFor:"email",children:["Email: ",Object(a.jsx)("b",{children:"(must be a valid email)"})]}),Object(a.jsx)("input",{type:"email",placeholder:"Enter your email here",value:this.state.email,name:"email",required:!0,onChange:this.onChangeHandler,ref:"email",className:"Edit-Student-Input",id:"email"}),Object(a.jsx)("label",{htmlFor:"enrollnumber",children:"Enrollement Number: "}),Object(a.jsx)("input",{type:"number",placeholder:"Enter the student's enrollment number",value:this.state.enrollnumber,name:"enrollnumber",min:"1",max:"120",required:!0,onChange:this.onChangeHandler,ref:"enrollnumber",className:"Edit-Student-Input",id:"enrollnumber"}),Object(a.jsx)("button",{type:"submit",className:"Edit-Student-Submit fa fa-pencil"})]}),Object(a.jsx)(w.a,{})]})}}]),n}(r.Component)),T=Object(p.f)(A),L=function(){return Object(a.jsx)(r.Fragment,{children:Object(a.jsx)(T,{})})},R=(n(109),function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={value:"",data:[],days:["Time","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},e.onChangeHandler=function(t){e.setState({value:t.target.value},(function(){e.props.Generate(e.state.value)}))},e.onGenerate=function(){var t=e.state.data;t.push({coursecode:"No lectures",lecturer:"",level:""});var n,a=t,r=a.length;for(console.log(t);0!=r;){n=Math.floor(Math.random()*r),r--;var c=[a[n],a[r]];a[r]=c[0],a[n]=c[1]}return e.setState({data:a}),a},e.getColum=function(){var t=Object(b.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.get("/api/courses/");case 3:a=t.sent,console.log(a.data.course),e.setState({data:a.data.course}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getColum()}},{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"button-holders",children:[Object(a.jsx)("button",{onClick:this.onGenerate,className:"generate-btn",children:"Generate Table"}),Object(a.jsx)("button",{onClick:function(){return window.print()},className:"generate-btn",children:"Print"})]}),Object(a.jsx)("div",{className:"table-holder",children:Object(a.jsxs)("table",{children:[Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"DAYS/TIME"}),Object(a.jsx)("th",{children:"8:00-10:00am"}),Object(a.jsx)("th",{children:"10:30-12:30pm"}),Object(a.jsx)("th",{children:"01:00-03:00pm"}),Object(a.jsx)("th",{children:"03:30-05:00pm"})]}),Object(a.jsxs)("tbody",{children:[Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:"Monday"}),this.state.data.slice(0,4).map((function(e,t){return Object(a.jsxs)("td",{children:[e.coursecode,Object(a.jsx)("br",{}),e.lecturer,Object(a.jsx)("br",{}),e.level]})}))]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:"Tuesday"}),this.state.data.slice(4,8).map((function(e,t){return Object(a.jsxs)("td",{children:[e.coursecode,Object(a.jsx)("br",{}),e.lecturer,Object(a.jsx)("br",{}),e.level]})}))]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:"Wednesday"}),this.state.data.slice(3,7).map((function(e,t){return Object(a.jsxs)("td",{children:[e.coursecode,Object(a.jsx)("br",{}),e.lecturer,Object(a.jsx)("br",{}),e.level]})}))]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:"Thursday"}),this.state.data.slice(1,5).map((function(e,t){return Object(a.jsxs)("td",{children:[e.coursecode,Object(a.jsx)("br",{}),e.lecturer,Object(a.jsx)("br",{}),e.level]})}))]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:"Friday"}),this.state.data.slice(4,6).map((function(e,t){return Object(a.jsxs)("td",{children:[e.coursecode,Object(a.jsx)("br",{}),e.lecturer,Object(a.jsx)("br",{}),e.level]})}))]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:"Saturday"}),this.state.data.slice(2,5).map((function(e,t){return Object(a.jsxs)("td",{children:[e.coursecode,Object(a.jsx)("br",{}),e.lecturer,Object(a.jsx)("br",{}),e.level]})}))]})]})]})})]})}}]),n}(r.Component)),F=function(){var e=Object(r.useState)(!0),t=Object(h.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)(!1),o=Object(h.a)(s,2),l=o[0],i=o[1],u=Object(r.useState)(""),d=Object(h.a)(u,2),m=d[0],O=d[1],f=Object(r.useState)(""),v=Object(h.a)(f,2),g=v[0],N=v[1],C=localStorage.getItem("ttg");Object(r.useEffect)((function(){return function(){C||(c(!0),i(!0)),console.log(C)}}),[C]);var w=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={staffid:m,password:g},e.prev=1,e.next=4,x.a.post("/api/students/login",t);case 4:(n=e.sent).data&&(console.log(n.data.newUser),localStorage.setItem("ttg",JSON.stringify(n.data.newUser)),c(!1),i(!1)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("err::::",e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(b.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("hit---"),n={staffid:m,password:g},e.prev=2,e.next=5,x.a.post("/api/students/register",n);case 5:(a=e.sent).data&&(console.log(a.data),c(!0),i(!1)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log("err::::",e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return l?Object(a.jsxs)("div",{className:"form-div",children:[Object(a.jsx)("img",{src:"./fpblogo.jpg",className:"bida-logo",alt:""}),Object(a.jsx)("div",{className:"header__",children:Object(a.jsx)("h2",{children:"CREAT NEW ACCOUNT"})}),Object(a.jsxs)("div",{className:"form-holder",children:[Object(a.jsx)("label",{children:"ENTER STAFF ID"}),Object(a.jsx)("input",{className:"form-input_",value:m,onChange:function(e){O(e.target.value)},placeholder:"STAFF ID"}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"ENTER PASSWORD"}),Object(a.jsx)("input",{type:"password",className:"form-input_",value:g,onChange:function(e){N(e.target.value)},placeholder:"ENTER PASSWORD"})]}),Object(a.jsx)("button",{onClick:function(){console.log("hit"),k()},className:"sub-btn",children:"REGISTER"}),Object(a.jsxs)("div",{children:["Have An Account?  ",Object(a.jsx)("button",{onClick:function(){c(!0),i(!1)},className:"sub-sub-btn",children:"Login"})]})]}):n?Object(a.jsxs)("div",{className:"form-div",children:[Object(a.jsx)("img",{src:"./fpblogo.jpg",className:"bida-logo",alt:""}),Object(a.jsx)("div",{className:"header__",children:Object(a.jsx)("h2",{children:"LOGIN"})}),Object(a.jsxs)("div",{className:"form-holder",children:[Object(a.jsx)("label",{children:"ENTER STAFF ID"}),Object(a.jsx)("input",{className:"form-input_",value:m,onChange:function(e){O(e.target.value)},placeholder:"STAFF ID"}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:"ENTER PASSWORD"}),Object(a.jsx)("input",{type:"password",className:"form-input_",value:g,onChange:function(e){N(e.target.value)},placeholder:"ENTER PASSWORD"})]}),Object(a.jsx)("button",{onClick:w,className:"sub-btn",children:"Login"}),Object(a.jsxs)("div",{children:["No Account?  ",Object(a.jsx)("button",{onClick:function(){c(!1),i(!0)},className:"sub-sub-btn",children:"Register"})]})]}):Object(a.jsxs)(r.Fragment,{children:[Object(a.jsx)(y,{}),Object(a.jsxs)(p.c,{children:[Object(a.jsx)(p.a,{path:"/",component:S,exact:!0}),Object(a.jsx)(p.a,{path:"/add",component:E,exact:!0}),Object(a.jsx)(p.a,{path:"/edit",component:L,exact:!0}),Object(a.jsx)(p.a,{path:"/generate",component:R,exact:!0})]})]})},I=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(F,{})})}}]),n}(r.Component),W=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function D(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}s.a.render(Object(a.jsx)(N.a,{children:Object(a.jsx)(I,{})}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");W?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):D(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):D(e)}))}}()},50:function(e,t,n){},52:function(e,t,n){},98:function(e,t,n){},99:function(e,t,n){}},[[110,1,2]]]);
//# sourceMappingURL=main.cedcb6a0.chunk.js.map